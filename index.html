<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Premium Vape Store</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & Libraries -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <style>
        :root {
            --primary: #00FF41;
            --primary-glow: rgba(0, 255, 65, 0.4);
            --bg-dark: #050505;
            --card-bg: rgba(255, 255, 255, 0.03);
            --border: rgba(255, 255, 255, 0.08);
        }

        body {
            background-color: var(--bg-dark);
            color: #ffffff;
            font-family: 'Inter', -apple-system, system-ui, sans-serif;
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        /* –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –ª–æ–∞–¥–µ—Ä (fix —á–µ—Ä–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞) */
        #initial-loader {
            position: fixed;
            inset: 0;
            background: #000;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            transition: opacity 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .loader-ring {
            width: 60px;
            height: 60px;
            border: 2px solid rgba(255,255,255,0.05);
            border-top: 2px solid var(--primary);
            border-radius: 50%;
            animation: spin 0.8s cubic-bezier(0.4, 0, 0.2, 1) infinite;
        }

        @keyframes spin { to { transform: rotate(360deg); } }

        #bg-canvas {
            position: fixed;
            inset: 0;
            z-index: -1;
            filter: contrast(1.1) brightness(0.8);
        }

        /* Glassmorphism 2.0 */
        .premium-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.01) 100%);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--border);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.8);
            transition: all 0.3s ease;
        }

        .premium-card:active {
            transform: scale(0.98);
            border-color: var(--primary);
        }

        .primary-glow-text {
            text-shadow: 0 0 10px var(--primary-glow);
        }

        .primary-bg { background: var(--primary); }
        .primary-text { color: var(--primary); }
        .primary-border { border-color: var(--primary); }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { display: none; }

        .category-tab {
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .category-tab.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 20%;
            right: 20%;
            height: 2px;
            background: var(--primary);
            box-shadow: 0 0 10px var(--primary);
        }

        /* Bottom Sheet */
        .sheet-up {
            transform: translateY(0);
            transition: transform 0.5s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .sheet-down {
            transform: translateY(100%);
        }

        .vignette {
            position: fixed;
            inset: 0;
            background: radial-gradient(circle, transparent 20%, rgba(0,0,0,0.4) 100%);
            pointer-events: none;
            z-index: 0;
        }
    </style>
</head>
<body>

    <!-- –°—Ç–∞—Ç–∏—á–Ω—ã–π –ª–æ–∞–¥–µ—Ä -->
    <div id="initial-loader">
        <div class="loader-ring"></div>
        <div class="mt-6 text-[10px] tracking-[0.4em] uppercase font-bold opacity-40 animate-pulse">Initializing Premium</div>
    </div>

    <canvas id="bg-canvas"></canvas>
    <div class="vignette"></div>
    <div id="root"></div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-app.js";
        import { getAuth, signInAnonymously, onAuthStateChanged, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-auth.js";
        import { getFirestore, collection, doc, onSnapshot, deleteDoc, addDoc, query, getDocs } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-firestore.js";

        const { useState, useEffect, useMemo, useRef } = React;

        // Firebase Setup
        const firebaseConfig = JSON.parse(__firebase_config);
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'vape-premium-v3';

        const ADMIN_ID = 1262669099;
        const ADMIN_USERNAME = "Tru5tNoBody";

        const THEMES = [
            { name: 'Toxic Green', color: '#00FF41', glow: 'rgba(0, 255, 65, 0.4)' },
            { name: 'Ice Blue', color: '#00E0FF', glow: 'rgba(0, 224, 255, 0.4)' },
            { name: 'Pure White', color: '#FFFFFF', glow: 'rgba(255, 255, 255, 0.4)' }
        ];

        const SEED_DATA = [
            { name: "HQD Cuvie Plus", price: 950, emoji: "üíé", category: "–û–¥–Ω–æ—Ä–∞–∑–∫–∏", desc: "1200 –∑–∞—Ç—è–∂–µ–∫ | Premium Selection" },
            { name: "Elf Bar BC5000", price: 1400, emoji: "üîã", category: "–û–¥–Ω–æ—Ä–∞–∑–∫–∏", desc: "5000 –∑–∞—Ç—è–∂–µ–∫ | USB-C Charging" },
            { name: "Vaporesso XROS 3", price: 3450, emoji: "üõ†Ô∏è", category: "–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞", desc: "Adjustable Airflow | Pro Flavor" },
            { name: "Santi Pod Kit", price: 2300, emoji: "‚ö°", category: "–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞", desc: "Smart Coil Detection | 40W" },
            { name: "Maxwells Shoria", price: 750, emoji: "üß™", category: "–ñ–∏–¥–∫–æ—Å—Ç–∏", desc: "Pine & Berries | Legend Series" },
            { name: "Husky White", price: 600, emoji: "üê∫", category: "–ñ–∏–¥–∫–æ—Å—Ç–∏", desc: "Double Ice | Arctic Cold" },
            { name: "Waka PA10000", price: 2100, emoji: "üî•", category: "–û–¥–Ω–æ—Ä–∞–∑–∫–∏", desc: "10000 Puffs | Dual Mesh" }
        ];

        // --- Sophisticated 3D Background (Vapor Flow Field) ---
        const initDigitalVapor = (primaryColor) => {
            const canvas = document.getElementById('bg-canvas');
            const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 100);
            camera.position.z = 30;

            const particlesCount = 2500;
            const positions = new Float32Array(particlesCount * 3);
            const sizes = new Float32Array(particlesCount);

            for(let i = 0; i < particlesCount; i++) {
                positions[i*3] = (Math.random() - 0.5) * 60;
                positions[i*3+1] = (Math.random() - 0.5) * 60;
                positions[i*3+2] = (Math.random() - 0.5) * 40;
                sizes[i] = Math.random() * 2;
            }

            const geometry = new THREE.BufferGeometry();
            geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));
            geometry.setAttribute('size', new THREE.BufferAttribute(sizes, 1));

            const material = new THREE.PointsMaterial({
                color: new THREE.Color(primaryColor),
                size: 0.15,
                transparent: true,
                opacity: 0.4,
                blending: THREE.AdditiveBlending
            });

            const points = new THREE.Points(geometry, material);
            scene.add(points);

            let time = 0;
            function animate() {
                requestAnimationFrame(animate);
                time += 0.002;
                points.rotation.y = time * 0.2;
                points.rotation.x = time * 0.1;
                
                const pos = geometry.attributes.position.array;
                for(let i = 0; i < particlesCount; i++) {
                    pos[i*3+1] += Math.sin(time + pos[i*3]) * 0.02;
                }
                geometry.attributes.position.needsUpdate = true;
                
                renderer.render(scene, camera);
            }
            animate();

            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });

            return { material };
        };

        const App = () => {
            const [user, setUser] = useState(null);
            const [products, setProducts] = useState(SEED_DATA);
            const [cart, setCart] = useState({});
            const [activeCategory, setActiveCategory] = useState("–í—Å–µ");
            const [themeIndex, setThemeIndex] = useState(0);
            const [isAdmin, setIsAdmin] = useState(false);
            const [isCartOpen, setIsCartOpen] = useState(false);
            const [isCheckoutOpen, setIsCheckoutOpen] = useState(false);
            const [view, setView] = useState('catalog'); // 'catalog', 'admin', 'checkout'
            const threeEngine = useRef(null);
            const tg = window.Telegram?.WebApp;

            useEffect(() => {
                threeEngine.current = initDigitalVapor(THEMES[0].color);
                
                if (tg) {
                    tg.expand();
                    tg.backgroundColor = "#050505";
                    tg.headerColor = "#050505";
                    const userId = tg.initDataUnsafe?.user?.id;
                    if (userId === ADMIN_ID) setIsAdmin(true);
                }

                // Rule 3: Auth First
                const initAuth = async () => {
                    try {
                        if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                            await signInWithCustomToken(auth, __initial_auth_token);
                        } else {
                            await signInAnonymously(auth);
                        }
                    } catch (e) { console.error(e); }
                };
                initAuth();
                onAuthStateChanged(auth, setUser);

                // –£–±–∏—Ä–∞–µ–º –ª–æ–∞–¥–µ—Ä –ø–æ—Å–ª–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
                setTimeout(() => {
                    const ldr = document.getElementById('initial-loader');
                    if(ldr) {
                        ldr.style.opacity = '0';
                        setTimeout(() => ldr.remove(), 600);
                    }
                }, 1500);
            }, []);

            useEffect(() => {
                if (!user) return;
                const q = collection(db, 'artifacts', appId, 'public', 'data', 'vape_items');
                return onSnapshot(q, (snapshot) => {
                    if (!snapshot.empty) {
                        setProducts(snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() })));
                    } else if (isAdmin) {
                        SEED_DATA.forEach(item => addDoc(q, item));
                    }
                });
            }, [user, isAdmin]);

            useEffect(() => {
                if (window.lucide) window.lucide.createIcons();
            });

            const categories = useMemo(() => ["–í—Å–µ", ...new Set(products.map(p => p.category))], [products]);
            const filteredProducts = products.filter(p => activeCategory === "–í—Å–µ" || p.category === activeCategory);

            const toggleTheme = () => {
                const next = (themeIndex + 1) % THEMES.length;
                setThemeIndex(next);
                const theme = THEMES[next];
                document.documentElement.style.setProperty('--primary', theme.color);
                document.documentElement.style.setProperty('--primary-glow', theme.glow);
                if (threeEngine.current) threeEngine.current.material.color.set(theme.color);
                if (tg?.HapticFeedback) tg.HapticFeedback.impactOccurred('light');
            };

            const addToCart = (id) => {
                setCart(prev => ({ ...prev, [id]: (prev[id] || 0) + 1 }));
                if (tg?.HapticFeedback) tg.HapticFeedback.impactOccurred('medium');
            };

            const totalAmount = Object.entries(cart).reduce((sum, [id, qty]) => {
                const p = products.find(x => x.id === id || x.name === id);
                return sum + (p ? p.price * qty : 0);
            }, 0);

            const cartCount = Object.values(cart).reduce((a, b) => a + b, 0);

            // UI Elements
            const Header = () => React.createElement('header', { className: 'flex justify-between items-center mb-8 sticky top-0 z-50 py-4 px-1 bg-black/20 backdrop-blur-md' },
                React.createElement('div', { className: 'flex flex-col' },
                    React.createElement('h1', { className: 'text-2xl font-black italic tracking-tighter primary-glow-text' }, 'PREMIUM'),
                    React.createElement('div', { className: 'flex items-center gap-2' },
                        React.createElement('div', { className: `w-1.5 h-1.5 rounded-full animate-pulse ${isAdmin ? 'primary-bg' : 'bg-white/20'}` }),
                        React.createElement('span', { className: 'text-[9px] uppercase tracking-[0.3em] font-bold opacity-60' }, isAdmin ? 'Admin Mode' : 'Authentic Catalog')
                    )
                ),
                React.createElement('div', { className: 'flex gap-3' },
                    isAdmin && React.createElement('button', { onClick: () => setView(view === 'admin' ? 'catalog' : 'admin'), className: 'w-11 h-11 premium-card rounded-2xl flex items-center justify-center' },
                        React.createElement('i', { 'data-lucide': view === 'admin' ? 'layout-grid' : 'shield', className: `w-5 h-5 ${view === 'admin' ? 'primary-text' : ''}` })),
                    React.createElement('button', { onClick: toggleTheme, className: 'w-11 h-11 premium-card rounded-2xl flex items-center justify-center' },
                        React.createElement('i', { 'data-lucide': 'palette', className: 'w-5 h-5' }))
                )
            );

            const ProductCard = ({ p }) => React.createElement('div', { 
                className: 'premium-card rounded-[32px] p-5 flex flex-col h-full group relative overflow-hidden'
            },
                // –ì–ª—É–±–æ–∫–∏–π –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω –∫–∞—Ä—Ç–æ—á–∫–∏
                React.createElement('div', { className: 'absolute inset-0 bg-gradient-to-br from-white/[0.03] to-transparent pointer-events-none' }),
                
                isAdmin && view === 'admin' && React.createElement('button', {
                    onClick: () => deleteDoc(doc(db, 'artifacts', appId, 'public', 'data', 'vape_items', p.id)),
                    className: 'absolute top-3 right-3 p-2 bg-red-500/10 text-red-500 rounded-full z-10'
                }, React.createElement('i', { 'data-lucide': 'trash-2', className: 'w-3.5 h-3.5' })),

                React.createElement('div', { className: 'text-5xl mb-5 text-center drop-shadow-2xl grayscale-[0.2] group-hover:grayscale-0 transition-all' }, p.emoji),
                
                React.createElement('div', { className: 'flex-grow mb-5' },
                    React.createElement('div', { className: 'text-[8px] uppercase tracking-[0.2em] font-bold primary-text mb-1.5' }, p.category),
                    React.createElement('h3', { className: 'font-bold text-[13px] leading-tight mb-2 tracking-tight' }, p.name),
                    React.createElement('p', { className: 'text-[10px] opacity-40 leading-relaxed font-medium' }, p.desc)
                ),

                React.createElement('div', { className: 'mt-auto' },
                    React.createElement('div', { className: 'text-xl font-black mb-3 tracking-tighter' }, `${p.price} ‚ÇΩ`),
                    React.createElement('button', {
                        onClick: () => addToCart(p.id || p.name),
                        className: 'w-full py-3 primary-bg text-black text-[10px] font-black uppercase rounded-2xl active:scale-95 transition-all primary-shadow'
                    }, '–í –∫–æ—Ä–∑–∏–Ω—É')
                )
            );

            if (view === 'admin') {
                return React.createElement('div', { className: 'p-6 pb-24' },
                    Header(),
                    React.createElement('h2', { className: 'text-3xl font-black italic mb-8' }, 'STATISTICS'),
                    React.createElement('div', { className: 'grid grid-cols-1 gap-4 mb-10' },
                        React.createElement('div', { className: 'premium-card p-6 rounded-3xl flex justify-between items-center' },
                            React.createElement('div', null,
                                React.createElement('div', { className: 'text-xs opacity-50 mb-1' }, '–í—Å–µ–≥–æ —Ç–æ–≤–∞—Ä–æ–≤'),
                                React.createElement('div', { className: 'text-3xl font-black' }, products.length)
                            ),
                            React.createElement('i', { 'data-lucide': 'box', className: 'w-8 h-8 opacity-20' })
                        )
                    ),
                    React.createElement('button', { 
                        onClick: () => setView('catalog'),
                        className: 'w-full py-4 premium-card rounded-2xl font-bold uppercase text-xs tracking-widest'
                    }, '–ù–∞–∑–∞–¥ –≤ –∫–∞—Ç–∞–ª–æ–≥')
                );
            }

            return React.createElement('div', { className: 'p-5 pb-32 max-w-lg mx-auto' },
                Header(),

                // Categories
                React.createElement('div', { className: 'flex gap-4 overflow-x-auto no-scrollbar mb-10 pb-2 -mx-5 px-5' },
                    categories.map(cat => React.createElement('button', {
                        key: cat,
                        onClick: () => { setActiveCategory(cat); if(tg?.HapticFeedback) tg.HapticFeedback.selectionChanged(); },
                        className: `category-tab px-1 py-2 text-[11px] font-black uppercase tracking-widest whitespace-nowrap opacity-40 transition-all ${activeCategory === cat ? 'active opacity-100 primary-text' : ''}`
                    }, cat))
                ),

                // Grid
                React.createElement('div', { className: 'grid grid-cols-2 gap-4' },
                    filteredProducts.map(p => React.createElement(ProductCard, { key: p.id || p.name, p }))
                ),

                // FAB Cart
                cartCount > 0 && React.createElement('div', { className: 'fixed bottom-10 left-5 right-5 z-[60]' },
                    React.createElement('button', {
                        onClick: () => setIsCartOpen(true),
                        className: 'w-full py-5 primary-bg text-black rounded-[24px] flex justify-between px-8 items-center primary-shadow animate-pulse-soft active:scale-95 transition-transform'
                    },
                        React.createElement('div', { className: 'flex gap-4 items-center' },
                            React.createElement('i', { 'data-lucide': 'shopping-cart', className: 'w-5 h-5' }),
                            React.createElement('span', { className: 'font-black uppercase tracking-tighter text-sm' }, '–ü—Ä–æ—Å–º–æ—Ç—Ä –∫–æ—Ä–∑–∏–Ω—ã')
                        ),
                        React.createElement('div', { className: 'flex items-center gap-3' },
                            React.createElement('span', { className: 'bg-black/10 px-2 py-0.5 rounded-md text-[10px] font-bold' }, cartCount),
                            React.createElement('span', { className: 'font-black text-xl tracking-tighter' }, `${totalAmount} ‚ÇΩ`)
                        )
                    )
                ),

                // Cart Bottom Sheet
                React.createElement('div', { 
                    className: `fixed inset-0 bg-black/90 z-[100] transition-opacity duration-500 ${isCartOpen ? 'opacity-100' : 'opacity-0 pointer-events-none'}` ,
                    onClick: () => setIsCartOpen(false)
                },
                    React.createElement('div', { 
                        className: `fixed bottom-0 left-0 right-0 premium-card rounded-t-[48px] p-8 max-h-[85vh] overflow-y-auto z-[101] ${isCartOpen ? 'sheet-up' : 'sheet-down'}`,
                        onClick: e => e.stopPropagation()
                    },
                        React.createElement('div', { className: 'w-16 h-1.5 bg-white/10 rounded-full mx-auto mb-10' }),
                        React.createElement('h2', { className: 'text-3xl font-black italic mb-8 tracking-tighter' }, '–í–ê–® –í–´–ë–û–†'),
                        
                        React.createElement('div', { className: 'space-y-4 mb-12' },
                            Object.entries(cart).map(([id, qty]) => {
                                const p = products.find(x => x.id === id || x.name === id);
                                if (!p) return null;
                                return React.createElement('div', { key: id, className: 'flex items-center justify-between glass-light p-4 rounded-3xl border border-white/5' },
                                    React.createElement('div', null,
                                        React.createElement('div', { className: 'text-sm font-bold tracking-tight' }, p.name),
                                        React.createElement('div', { className: 'text-xs primary-text font-black' }, `${p.price * qty} ‚ÇΩ`)
                                    ),
                                    React.createElement('div', { className: 'flex items-center gap-4 bg-white/5 p-1.5 rounded-2xl' },
                                        React.createElement('button', { onClick: () => {
                                            setCart(prev => {
                                                const n = {...prev};
                                                if(n[id] > 1) n[id]--; else delete n[id];
                                                return n;
                                            });
                                        }, className: 'w-8 h-8 rounded-xl bg-white/5 flex items-center justify-center' }, '-'),
                                        React.createElement('span', { className: 'font-bold text-sm' }, qty),
                                        React.createElement('button', { onClick: () => addToCart(id), className: 'w-8 h-8 rounded-xl bg-white/5 flex items-center justify-center' }, '+')
                                    )
                                );
                            })
                        ),

                        React.createElement('button', {
                            onClick: () => { setIsCartOpen(false); setIsCheckoutOpen(true); },
                            className: 'w-full py-5 primary-bg text-black font-black uppercase rounded-[24px] text-sm tracking-widest'
                        }, '–û—Ñ–æ—Ä–º–∏—Ç—å –∏ –æ–ø–ª–∞—Ç–∏—Ç—å')
                    )
                ),

                // Checkout Overlay
                isCheckoutOpen && React.createElement('div', { className: 'fixed inset-0 bg-[#050505] z-[200] p-8 fade-in overflow-y-auto' },
                    React.createElement('button', { onClick: () => setIsCheckoutOpen(false), className: 'mb-12 opacity-30 flex items-center gap-2 text-[10px] uppercase font-bold tracking-widest' }, 
                        React.createElement('i', { 'data-lucide': 'arrow-left', className: 'w-4 h-4' }), '–ù–∞–∑–∞–¥ –∫ –ø–æ–∫—É–ø–∫–∞–º'
                    ),
                    React.createElement('h2', { className: 'text-4xl font-black italic mb-4 primary-glow-text' }, '–û–ü–õ–ê–¢–ê'),
                    React.createElement('div', { className: 'premium-card p-8 rounded-[40px] mb-8' },
                        React.createElement('div', { className: 'text-[10px] opacity-40 uppercase tracking-[0.2em] mb-2' }, '–ò—Ç–æ–≥–æ –∫ –∑–∞—á–∏—Å–ª–µ–Ω–∏—é'),
                        React.createElement('div', { className: 'text-5xl font-black primary-text mb-10 tracking-tighter' }, `${totalAmount} ‚ÇΩ`),
                        
                        React.createElement('div', { className: 'space-y-6' },
                            React.createElement('div', { className: 'p-5 bg-white/[0.03] rounded-3xl border border-dashed border-white/10' },
                                React.createElement('div', { className: 'text-[9px] opacity-30 uppercase mb-3 font-bold' }, '–ü–µ—Ä–µ–≤–æ–¥ –ø–æ —Ä–µ–∫–≤–∏–∑–∏—Ç–∞–º'),
                                React.createElement('div', { className: 'font-mono text-xl mb-1 tracking-wider' }, '2204 3209 2444 1944'),
                                React.createElement('div', { className: 'text-[10px] font-bold opacity-60' }, 'Ozon –ë–∞–Ω–∫ | –ò–≤–∞–Ω –í.')
                            ),
                            React.createElement('div', { className: 'p-5 primary-bg/10 rounded-3xl border primary-border' },
                                React.createElement('div', { className: 'text-[9px] primary-text uppercase mb-2 font-bold' }, '–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π'),
                                React.createElement('div', { className: 'text-3xl font-black tracking-[0.3em]' }, `VX-${Math.floor(1000 + Math.random() * 9000)}`)
                            )
                        )
                    ),
                    React.createElement('button', {
                        onClick: () => {
                            if(tg) tg.sendData(JSON.stringify({order: 'paid', amount: totalAmount}));
                            else alert('–û–ø–ª–∞—Ç–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞');
                            setIsCheckoutOpen(false);
                            setCart({});
                        },
                        className: 'w-full py-6 primary-bg text-black font-black uppercase rounded-[28px] primary-shadow tracking-[0.1em]'
                    }, '–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é –æ–ø–ª–∞—Ç—É')
                )
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(React.createElement(App));
    </script>
</body>
</html>
